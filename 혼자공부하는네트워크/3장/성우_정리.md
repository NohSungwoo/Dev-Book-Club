# LAN을 넘어서는 네트워크 계층

---

## 데이터 링크 계층의 한계

---

1. **라우팅의 필요성**
    - 물리 계층과 데이터 링크 계층만으로는 다른 네트워크 간의 경로를 파악하기 어렵다.
    - **라우팅**: 패킷이 이동할 최적의 경로를 결정.
    - **라우터**: 네트워크 계층의 장비로 라우팅이 가능.
2. **MAC 주소의 한계**
    - 모든 네트워크에 속한 호스트의 위치를 특정하기 어려움.
    - **IP 주소**: 수신지 역할, MAC 주소보다 우선적으로 활용됨.

## 인터넷 프로토콜 (IP)

---

### IP 주소의 형태

- **형태**: 4바이트로 구성, 8비트씩 나누어 0~255 범위의 10진수로 표기.
- **Octet**: `.`으로 구분된 8비트를 의미.

### IP의 기능

1. **IP 주소 지정**
    - 송수신 대상 지정.
2. **IP 단편화**
    - 패킷의 크기가 MTU보다 클 경우, 작은 패킷으로 나누어 전송.
3. **MTU (Maximum Transmission Unit)**
    - 한 번에 전송 가능한 IP 패킷의 최대 크기 (일반적으로 1500바이트).
4. **식별자**
    - 쪼개진 패킷들이 어떤 메시지에서 분리된 것인지 식별.
5. **플래그**
    - 첫 비트: 사용되지 않음.
    - DF 비트: 단편화 금지 표시.
6. **단편화 오프셋**
    - 단편화된 패킷이 초기 데이터의 몇 번째 부분인지 표시.
7. **TTL (Time To Live)**
    - 패킷의 수명, 라우터를 거칠 때마다 1씩 감소.
8. **프로토콜**
    - 상위 계층의 프로토콜을 나타내는 필드 (예: TCP=6, UDP=17).
9. **송신지/수신지 IP 주소**
    - 각각의 IP 주소를 표시.

### IPv6

- **필요성**: IPv4 주소의 부족 (2^32, 약 43억개)으로 등장.
- **형태**: 8개의 그룹, 16진수로 표기, 할당 가능한 주소는 2^128개.

### ARP (Address Resolution Protocol)

1. **ARP 요청**
    - 모든 호스트에게 ARP 요청 패킷을 브로드캐스트로 전송.
2. **ARP 응답**
    - 유니캐스트 메시지로 응답.
3. **ARP 테이블 갱신**
    - ARP를 활용한 호스트는 ARP 테이블을 유지.


TDD (Time Division Duplexing)
**TDD(Time Division Duplexing)**는 무선 통신 시스템에서 단일 주파수 대역을 시간적으로 분할하여 송신과 수신을 번갈아가며 수행하는 기술입니다.

TDD를 왜 써야 하는가
### 장점

1. **대역폭의 효율적 사용**:
    - 동일한 주파수 대역을 송수신에 모두 사용하므로, 주파수 자원을 효율적으로 사용합니다.
2. **간섭 감소**:
    - 송신과 수신이 시간적으로 분리되어 있어 간섭이 줄어듭니다.
3. **비용 절감**:
    - 단일 주파수 대역 사용으로 인한 비용 절감 효과가 있습니다.

### 단점

1. **시간 동기화 필요**:
    - 송신과 수신 간의 정확한 시간 동기화가 필요합니다.
2. **데이터 전송 지연**:
    - 시간 분할로 인해 송수신 간의 전환 시간 동안 지연이 발생할 수 있습니다.

### TDD와 FDD의 비교

- **TDD(Time Division Duplexing)**:
    - 동일한 주파수 대역을 시간적으로 분리하여 송신과 수신을 번갈아가며 사용.
- **FDD(Frequency Division Duplexing)**:
    - 서로 다른 주파수 대역을 사용하여 송신과 수신을 동시에 수행.